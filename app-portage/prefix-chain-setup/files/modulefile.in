#%Module

proc ModulesHelp { } {
    puts stderr "Gentoo Prefix install (chained) for @PACKAGE@"
}

#prereq PrgEnv-gnu
set PACKAGE @PACKAGE@
set VERSION @VERSION@

if {0} { "PrgEnv-gnu"
} elseif { $::env(PE_ENV) eq "GNU" } {
    set PACKAGE_DIR @CHILD_EPREFIX@

} else {
    set PACKAGE_DIR @CHILD_EPREFIX@
}

setenv @ENVVAR_PREFIX@_VERSION $VERSION
setenv @ENVVAR_PREFIX@_DIR $PACKAGE_DIR

set PACKAGE_BINARY_PATH  $PACKAGE_DIR/bin:$PACKAGE_DIR/usr/bin
set PACKAGE_LIBRARY_PATH $PACKAGE_DIR/lib:$PACKAGE_DIR/usr/lib
set PACKAGE_INCLUDE_PATH $PACKAGE_DIR/include
set PACKAGE_MANPATH $PACKAGE_DIR/usr/share/man
set PACKAGE_PKG_PATH $PACKAGE_DIR/usr/lib/pkgconfig


if { [ info exists PACKAGE_INCLUDE_PATH ] } {
    set @PACKGE_CONST@_INCLUDE_PATH $PACKAGE_INCLUDE_PATH
    setenv @ENVVAR_PREFIX@_PATH $@ENVVAR_PREFIX@_INCLUDE_PATH
}

if { [ info exists PACKAGE_LIBRARY_PATH ] } {
    set @ENVVAR_PREFIX@_LIBRARY_PATH $PACKAGE_LIBRARY_PATH
    setenv @ENVVAR_PREFIX@_LIBRARY_PATH $@ENVVAR_PREFIX@_LIBRARY_PATH
    prepend-path LD_LIBRARY_PATH $@ENVVAR_PREFIX@_LIBRARY_PATH
}

if { [ info exists PACKAGE_MANPATH ] } {
    set @ENVVAR_PREFIX@_MANPATH $PACKAGE_MANPATH
    setenv @ENVVAR_PREFIX@_MANPATH $@ENVVAR_PREFIX@_MANPATH
    prepend-path MANPATH $@ENVVAR_PREFIX@_MANPATH
}

if { [ info exists PACKAGE_PKG_PATH ] } {
    set @ENVVAR_PREFIX@_PKG_PATH $PACKAGE_PKG_PATH
    setenv @ENVVAR_PREFIX@_PKG_PATH $@ENVVAR_PREFIX@_PKG_PATH
    prepend-path PKG_CONFIG_PATH $@ENVVAR_PREFIX@_PKG_PATH
}

if { [ info exists PACKAGE_TCL_PATH ] } {
    set @ENVVAR_PREFIX@_TCL_PATH $PACKAGE_TCL_PATH
    setenv @ENVVAR_PREFIX@_TCL_PATH $@ENVVAR_PREFIX@_TCL_PATH
    prepend-path TCLLIBPATH $@ENVVAR_PREFIX@_TCL_PATH
}

if { [ info exists PACKAGE_BINARY_PATH ] } {
    set @ENVVAR_PREFIX@_BINARY_PATH $PACKAGE_BINARY_PATH
    setenv @ENVVAR_PREFIX@_BINARY_PATH $@ENVVAR_PREFIX@_BINARY_PATH
    prepend-path PATH $@ENVVAR_PREFIX@_BINARY_PATH
}

if { [ info exists PACKAGE_MODULEPATH ] } {
    set @ENVVAR_PREFIX@_MODULEPATH $PACKAGE_MODULEPATH
    setenv @ENVVAR_PREFIX@_MODULEPATH $@ENVVAR_PREFIX@_MODULEPATH
    prepend-path MODULE_PATH $@ENVVAR_PREFIX@_MODULEPATH
}

