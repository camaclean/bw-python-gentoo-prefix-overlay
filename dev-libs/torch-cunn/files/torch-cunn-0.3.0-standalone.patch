diff --git a/CMakeLists.txt b/CMakeLists.txt
index 95b190a..fe00ea0 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,5 +1,6 @@
 CMAKE_MINIMUM_REQUIRED(VERSION 2.8 FATAL_ERROR)
 CMAKE_POLICY(VERSION 2.8)
+PROJECT(TorcHCUNN C CXX)
 
 OPTION(NDEBUG "disable asserts (WARNING: this may result in silent UB e.g. with out-of-bound indices)")
 IF(NOT NDEBUG)
@@ -12,10 +13,8 @@ IF(NOT NDEBUG)
   STRING(REPLACE "-DNDEBUG" "" CMAKE_CXX_FLAGS_RELEASE "" ${CMAKE_CXX_FLAGS_RELEASE})
 ENDIF()
 
-IF(NOT Torch_FOUND)
-  FIND_PACKAGE(Torch REQUIRED)
-ENDIF()
-
+FIND_PACKAGE(TH)
+FIND_PACKAGE(THC)
 IF(NOT TH_LIBRARIES)
   SET(TH_LIBRARIES "TH")
 ENDIF(NOT TH_LIBRARIES)
@@ -24,6 +23,8 @@ IF(NOT THC_LIBRARIES)
   SET(THC_LIBRARIES "THC")
 ENDIF(NOT THC_LIBRARIES)
 MESSAGE(STATUS "THC_LIBRARIES: ${THC_LIBRARIES}")
+INCLUDE_DIRECTORIES("${TH_INCLUDE_DIR}")
+INCLUDE_DIRECTORIES("${THC_INCLUDE_DIR}")
 
 IF(NOT CUDA_FOUND)
   FIND_PACKAGE(CUDA 6.5 REQUIRED)
@@ -69,6 +70,7 @@ IF(NOT THCUNN_INSTALL_LIB_SUBDIR)
   SET(THCUNN_INSTALL_BIN_SUBDIR "bin" CACHE PATH "THCUNN install binary directory")
   SET(THCUNN_INSTALL_LIB_SUBDIR "lib" CACHE PATH "THCUNN install library directory")
   SET(THCUNN_INSTALL_INCLUDE_SUBDIR "include" CACHE PATH "THCUNN install include subdirectory")
+  SET(THCUNN_INSTALL_CMAKE_SUBDIR "share/cmake/THCUNN" CACHE PATH "THCUNN install cmake subdirectory")
 ENDIF()
 
 FILE(GLOB src-cuda *.cu)
@@ -88,8 +90,17 @@ IF(THCUNN_SO_VERSION)
 ENDIF(THCUNN_SO_VERSION)
 
 INSTALL(TARGETS THCUNN
+          EXPORT THCUNNTargets
           RUNTIME DESTINATION "${THCUNN_INSTALL_BIN_SUBDIR}"
           LIBRARY DESTINATION "${THCUNN_INSTALL_LIB_SUBDIR}"
           ARCHIVE DESTINATION "${THCUNN_INSTALL_LIB_SUBDIR}")
 INSTALL(FILES THCUNN.h DESTINATION "${THCUNN_INSTALL_INCLUDE_SUBDIR}/THCUNN")
 INSTALL(FILES generic/THCUNN.h DESTINATION "${THCUNN_INSTALL_INCLUDE_SUBDIR}/THCUNN/generic")
+
+# Create THSConfig.cmake
+EXPORT(TARGETS THCUNN FILE "${CMAKE_CURRENT_BINARY_DIR}/THCUNNTargets.cmake")
+EXPORT(PACKAGE TorcHCUNN)
+SET(THCUNN_INCLUDE_DIR "${CMAKE_INSTALL_PREFIX}/${THCUNN_INSTALL_INCLUDE_SUBDIR}/THCUNN")
+CONFIGURE_FILE(THCUNNConfig.cmake.in "${PROJECT_BINARY_DIR}/THCUNNConfig.cmake")
+INSTALL(FILES "${PROJECT_BINARY_DIR}/THCUNNConfig.cmake" DESTINATION "${THCUNN_INSTALL_CMAKE_SUBDIR}")
+INSTALL(EXPORT THCUNNTargets DESTINATION "${THCUNN_INSTALL_CMAKE_SUBDIR}")
diff --git a/THCUNNConfig.cmake.in b/THCUNNConfig.cmake.in
index e69de29..86da309 100644
--- a/THCUNNConfig.cmake.in
+++ b/THCUNNConfig.cmake.in
@@ -0,0 +1,14 @@
+# Find the THCUNN includes and library
+#
+# THCUNN_INCLUDE_DIR -- where to find the includes
+# THCUNN_LIBRARIES -- list of libraries to link against
+# THCUNN_FOUND -- set to 1 if found
+
+SET(THCUNN_FOUND 1)
+SET(THCUNN_INCLUDE_DIR "@THCUNN_INCLUDE_DIR@")
+
+if(NOT TARGET THS AND NOT TorcHCUNN_BINARY_DIR)
+   include("${CMAKE_INSTALL_PREFIX}/${THCUNN_INSTALL_CMAKE_SUBDIR}/THCUNNTargets.cmake")
+endif()
+
+SET(THCUNN_LIBRARIES THCUNN)
