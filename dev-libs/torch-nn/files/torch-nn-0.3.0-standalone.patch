diff --git a/CMakeLists.txt b/CMakeLists.txt
index eccc4d6..7e92d8f 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -1,7 +1,9 @@
 CMAKE_MINIMUM_REQUIRED(VERSION 2.6 FATAL_ERROR)
 CMAKE_POLICY(VERSION 2.6)
+PROJECT(TorcHNN C CXX)
 
-IF(NOT Torch_FOUND)
+FIND_PACKAGE(TH)
+IF(NOT Torch_FOUND AND NOT TH_FOUND)
   FIND_PACKAGE(Torch REQUIRED)
 ENDIF()
 
@@ -9,11 +11,13 @@ IF(NOT TH_LIBRARIES)
   SET(TH_LIBRARIES "TH")
 ENDIF(NOT TH_LIBRARIES)
 MESSAGE(STATUS "TH_LIBRARIES: ${TH_LIBRARIES}")
+INCLUDE_DIRECTORIES("${TH_INCLUDE_DIR}")
 
 IF(NOT THNN_INSTALL_LIB_SUBDIR)
   SET(THNN_INSTALL_BIN_SUBDIR "bin" CACHE PATH "THNN install binary directory")
   SET(THNN_INSTALL_LIB_SUBDIR "lib" CACHE PATH "THNN install library directory")
   SET(THNN_INSTALL_INCLUDE_SUBDIR "include" CACHE PATH "THNN install include subdirectory")
+  SET(THNN_INSTALL_CMAKE_SUBDIR "share/cmake/THNN" CACHE PATH "THNN install cmake subdirectory")
 ENDIF()
 
 # Flags
@@ -89,8 +93,17 @@ IF(THNN_SO_VERSION)
 ENDIF(THNN_SO_VERSION)
 
 INSTALL(TARGETS THNN
+  EXPORT THNNTargets
   RUNTIME DESTINATION "${THNN_INSTALL_BIN_SUBDIR}"
   LIBRARY DESTINATION "${THNN_INSTALL_LIB_SUBDIR}"
   ARCHIVE DESTINATION "${THNN_INSTALL_LIB_SUBDIR}")
 INSTALL(FILES THNN.h DESTINATION "${THNN_INSTALL_INCLUDE_SUBDIR}/THNN")
 INSTALL(FILES generic/THNN.h DESTINATION "${THNN_INSTALL_INCLUDE_SUBDIR}/THNN/generic")
+
+# Create THNNConfig.cmake
+EXPORT(TARGETS THNN FILE "${CMAKE_CURRENT_BINARY_DIR}/THNNTargets.cmake")
+EXPORT(PACKAGE TorcHNN)
+SET(THNN_INCLUDE_DIR "${CMAKE_INSTALL_PREFIX}/${THNN_INSTALL_INCLUDE_SUBDIR}/THNN")
+CONFIGURE_FILE(THNNConfig.cmake.in "${PROJECT_BINARY_DIR}/THNNConfig.cmake")
+INSTALL(FILES "${PROJECT_BINARY_DIR}/THNNConfig.cmake" DESTINATION "${THNN_INSTALL_CMAKE_SUBDIR}")
+INSTALL(EXPORT THNNTargets DESTINATION "${THNN_INSTALL_CMAKE_SUBDIR}")
diff --git a/THNNConfig.cmake.in b/THNNConfig.cmake.in
index e69de29..af91375 100644
--- a/THNNConfig.cmake.in
+++ b/THNNConfig.cmake.in
@@ -0,0 +1,14 @@
+# Find the THNN includes and library
+#
+# THNN_INCLUDE_DIR -- where to find the includes
+# THNN_LIBRARIES -- list of libraries to link against
+# THNN_FOUND -- set to 1 if found
+
+SET(THNN_FOUND 1)
+SET(THNN_INCLUDE_DIR "@THNN_INCLUDE_DIR@")
+
+if(NOT TARGET THNN AND NOT TorcHNN_BINARY_DIR)
+   include("${CMAKE_INSTALL_PREFIX}/${THNN_INSTALL_CMAKE_SUBDIR}/THNNTargets.cmake")
+endif()
+
+SET(THCS_LIBRARIES THNN)
